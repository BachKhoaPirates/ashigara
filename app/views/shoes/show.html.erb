<div class="container" style="margin-top: 100px">
  <% if @shoe.present? %>
    <div class="row">
      <div class="col-6">
        <img class="img-fluid" style="width: 450px; height: 700px;" src=<%= @shoe.shoe_images.first.image %>>
      </div>
      <div class="col-6">
        <h1>
          <strong>
            <%= @shoe.name %> <%= render partial: 'shared/bookmark_button', locals: { shoe: @shoe } %>
          </strong>
        </h1>
        <div class="row d-flex align-items-center" style="margin-left: 5px">
          <div style="color: green; font-size: 40px">$100</div>
          <a href="#" class="d-flex align-items-center" style="height: 40px; border: 1px solid black; padding: 5px 10px 5px 10px; border-radius: 50px; margin-left: 15px; font-size: 15px;
          color: black; text-decoration: none;"><%= @shoe.category.name %></a>
          <a href="#" class="d-flex align-items-center" style="height: 40px; border: 1px solid black; padding: 5px 10px 5px 10px; border-radius: 50px; margin-left: 15px; font-size: 15px;
          color: black; text-decoration: none;"><%= @shoe.brand.name %></a href="#">
        </div>
        <div style="margin-top: 30px; font-size: 20px; color: blue">
          Description
        </div>
        <div style="margin-top: 10px;">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sapiente nesciunt atque nemo neque ut officiis nostrum incidunt maiores, magni optio et sunt suscipit iusto nisi totam quis, nobis mollitia necessitatibus.
        </div>
        <div style="margin-top: 30px; font-size: 20px; color: blue">
          Details
        </div>
        <div style="margin-top: 10px;">
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sapiente nesciunt atque nemo neque ut officiis nostrum incidunt maiores, magni optio et sunt suscipit iusto nisi totam quis, nobis mollitia necessitatibus.
        </div>
        <div style="margin-top: 30px; font-size: 20px; color: blue">
          Properties
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-3">
              Durability:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.durability %>
              <%= image_tag("star.png", :style => 'width: 13px; height: 13px; margin-bottom: 2px')%>
            </span>
          </div>
          <div class="col-3">
              Comfortability:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.comfortability %>
              <%= image_tag("star.png", :style => 'width: 13px; height: 13px; margin-bottom: 2px')%>
            </span>
          </div>
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-3">
              Ventilation:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.ventilation %>
              <%= image_tag("star.png", :style => 'width: 13px; height: 13px; margin-bottom: 2px')%>
            </span>
          </div>
          <div class="col-3">
              Overall:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.overall %>
              <%= image_tag("star.png", :style => 'width: 13px; height: 13px; margin-bottom: 2px')%>
            </span>
          </div>
        </div>
        <div class="row" style="margin-top: 20px">
          <div class="col-3">
            Money worthy:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.money_worthy %>
              <%= image_tag("star.png", :style => 'width: 13px; height: 13px; margin-bottom: 2px')%>
            </span>
          </div>
          <div class="col-3">
            Water proof:
          </div>
          <div class="col-3">
            <span style="border: 1px solid #159588; border-radius: 2px; padding: 5px 7px 5px 7px">
              <%= @shoe.water_proof %>
            </span>
          </div>
        </div>
        <div class="row" style="margin-top: 60px">
          <div class="col-12">
            <button type="button" style="box-shadow: 3px 3px 5px 0 rgba(0, 0, 0, 0.2), 2px 3px 10px 0 rgba(0, 0, 0, 0.2); border-radius: 50px; background: #159588; border: none; color: white; padding: 7px 15px 7px 15px" data-toggle="modal" data-target="#exampleModal">
              See <%= pluralize(@shoe_shops.size, "shop") %> selling
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel"><%= pluralize(@shoe_shops.size, "shop") %> selling</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <% @shoe_shops.each do |shop| %>
              <div><b><%= shop.shop.name %></b></div>
              <div>Address: <%= shop.shop.address %></div>
              <div>Website: &nbsp;<%= link_to shop.shop.website %></div>
              <% if shop != @shoe_shops.last %>
                <hr>
              <% end %>
            <% end %>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary waves-effect waves-light" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="card" style="margin-top: 100px; border: none">
          <div class="card-body">
            <div class="card-title text-center">
              <h3>Product Review</h3>
            </div>
            <div class="card-text">
              <% @reviews.each do |review| %>
              <div class="card" style="margin-top: 20px; border: none">
                <div class="card-body">
                  <div class="card-text">
                    <%= render partial: 'reviews/review', locals: { review: review } %>
                  </div>
                </div>
              </div>
              <hr>
              <% end %>
            </div>
          </div>
      </div>
    <hr>

    <!-- Recommend Shoe -->
    <div class="row">
      <% if @recommend_shoe.present? %>
        Recommend Shoe <%= @recommend_shoe.count %>
        <br>
        <% @recommend_shoe.each do |shoe| %>
          <%= render partial: 'shared/shoe', locals: { shoe: shoe } %>
        <% end %>
      <% end %>
    </div>
    
    <div class="row justify-content-md-center">
      <div class="col-12">
        <div class="card">
          <div class="card-body">
            <div class="card-title text-center">
              <h3>Create review</h3>
            </div>
            <hr>
            <div class="card-text">
              <%= form_for [@shoe, @shoe.reviews.new] do |f| %>
                <div class="row">
                  <div class="col-3">
                    Content
                  </div>
                  <div class="col-9">
                    <%= f.text_field :content, required: true %>
                  </div>
                </div>
                <div class="row">
                  <div class="col-3">
                    durability
                  </div>
                  <div class="col-9">
                    <%= f.text_field :durability, required: true %>
                  </div>
                </div>
                <div class="row">
                  <div class="col-3">
                      comfortability
                  </div>
                  <div class="col-9">
                    <%= f.text_field :comfortability, required: true %>
                  </div>
                </div>
                <div class="row">
                  <div class="col-3">
                      ventilation
                  </div>
                  <div class="col-9">
                    <%= f.text_field :ventilation, required: true %>
                  </div>
                </div>
                <div class="row">
                  <div class="col-3">
                      money_worthy
                  </div>
                  <div class="col-9">
                    <%= f.text_field :money_worthy, required: true %>
                  </div>
                </div>
                <%= f.submit "Submit", class: "btn btn-primary pull-right"%>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>

  <% end %>

  <%= render partial: 'reviews/form_create', locals: { shoe: @shoe } %>
</div>
